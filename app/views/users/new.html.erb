<h1 class="text-center">Register</h1>

<% if flash[:notice] %>
  <div class="alert alert-warning" role="alert">
    <span class="glyphicon glyphicon-exclamation-sign"></span>
    <%= flash[:notice] %>
  </div>
<% end %>

<br><br>

<div class="col-xs-10 no-float center-block">
  <%= form_for @user do |f| %>

    <!-- TODO: Check error handling for all validations -->
    <!-- TODO: Keep the splat on the same line when there are errors -->

    <% if !@user.errors[:first_name].empty? %>
      <div class="alert alert-danger" role="alert">
        <p>
          <span class="glyphicon glyphicon-exclamation-sign"></span>
          <%= error_check(:first_name) %>
        </p>
      </div>
    <% end %>

    <div class="form-group">
      <%= f.label :first_name, 'First Name' %> <span class="required">*</span>
      <%= f.text_field :first_name, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= f.label :last_name, 'Last Name' %>
      <%= f.text_field :last_name, class: 'form-control' %>
    </div>

    <% if !@user.errors[:email].empty? %>
      <div class="alert alert-danger" role="alert">
        <p>
          <span class="glyphicon glyphicon-exclamation-sign"></span>
          <%= error_check(:email) %>
        </p>
      </div>
    <% end %>

    <div class="form-group">
      <%= f.label :email %> <span class="required">*</span>
      <%= f.text_field :email, class: 'form-control' %>
    </div>

    <% if !@user.errors[:password].empty? %>
      <div class="alert alert-danger" role="alert">
        <p>
          <span class="glyphicon glyphicon-exclamation-sign"></span>
          <%= error_check(:password) %>
        </p>
      </div>
    <% end %>

    <div class="form-group">
      <%= f.label :password %> <span class="required">*</span>
      <%= f.password_field :password, class: 'form-control' %>
    </div>

    <% if !@user.errors[:password_confirmation].empty? %>
      <div class="alert alert-danger" role="alert">
        <p>
          <span class="glyphicon glyphicon-exclamation-sign"></span>
          <%= error_check(:password_confirmation) %>
        </p>
      </div>
    <% end %>

    <div class="form-group">
      <%= f.label :password_confirmation, "Confirm Password" %>
      <span class="required">*</span>
      <%= f.password_field :password_confirmation, class: 'form-control' %>
    </div>

    <% unless flash[:notice] %>
      <%= f.submit "Register", class: 'btn btn-primary center-block' %>
    <% else %>
      <%= f.submit "Register", class: 'btn btn-primary center-block',
                               disabled: "disabled" %>
    <% end %>
  <% end %>
</div>
